# Generated by Vault Agent

{{ with secret "kv/data/backend/config" }}
# Database
DB_HOST={{ .Data.data.DB_HOST }}
DB_PORT={{ .Data.data.DB_PORT }}
DB_DATABASE={{ .Data.data.DB_DATABASE }}
DB_USER={{ .Data.data.DB_USER }}
DB_PASSWORD={{ .Data.data.DB_PASSWORD }}

# Server Config
PORT={{ .Data.data.PORT }}
NODE_ENV={{ .Data.data.NODE_ENV }}
ALLOWED_ORIGINS={{ .Data.data.ALLOWED_ORIGINS }}
FRONTEND_URL={{ .Data.data.FRONTEND_URL }}
{{ end }}

{{ with secret "kv/data/backend/jwt" }}
# JWT Secrets
ACCESS_TOKEN_SECRET={{ .Data.data.ACCESS_TOKEN_SECRET }}
REFRESH_TOKEN_SECRET={{ .Data.data.REFRESH_TOKEN_SECRET }}
ACCESS_EXPIRES={{ .Data.data.ACCESS_EXPIRES }}
REFRESH_EXPIRES={{ .Data.data.REFRESH_EXPIRES }}
BCRYPT_SALT_ROUNDS={{ .Data.data.BCRYPT_SALT_ROUNDS }}
{{ end }}

# Google OAuth
{{- with secret "kv/data/backend/oauth" }}
{{- if .Data.data }}
GOOGLE_CLIENT_ID={{ .Data.data.GOOGLE_CLIENT_ID | default "" }}
GOOGLE_CLIENT_SECRET={{ .Data.data.GOOGLE_CLIENT_SECRET | default "" }}
{{- else }}
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
{{- end }}
{{- end }}

{{ with secret "kv/data/backend/mail" }}
# Mail
MAIL_HOST={{ .Data.data.MAIL_HOST }}
MAIL_PORT={{ .Data.data.MAIL_PORT }}
MAIL_USER={{ .Data.data.MAIL_USER }}
MAIL_PASS={{ .Data.data.MAIL_PASS }}
{{ end }}
